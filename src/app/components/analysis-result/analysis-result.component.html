<app-navigation></app-navigation>
<div style="text-align:center;"class="data-result" *ngIf="display_results.length < 1"><img style="max-height:150px;width:auto;margin-top: 5%;"[src]="url" alt="None"></div>
<div class="data-result shadow p-3 mb-5 bg-white rounded" *ngFor="let item of display_results;let i=index;">
  <div class="wrapper-div">
    <h2>{{item[0].name}}</h2>
    <select [(ngModel)]="page_name" id='dropdown' style="width:100%; height:30px; display: block;"
          name='dropdown'>
            <option *ngFor="let item of filtering_data" [value]="item">
              {{item}}
            </option>    
        </select>
    <button (click)="Export_data(i)">Export data</button>
    <button (click)="redo_graph(i)">Filter graph</button>
<div class="scrollable-div">
 
  <table class="table table-bordered" cellspacing="0">
    <thead>
    <tr>
        <th class="th-sm">Page</th>
        <th *ngIf="item[0].name=='Entropy'" class="th-sm">Entropy</th>
        <th *ngIf="item[0].name=='Frequency of text' || item[0].name=='Adjacent contacts' || item[0].name=='Letter distances'" class="th-sm">Element</th>
        <th *ngIf="item[0].name=='Frequency of text' || item[0].name=='Adjacent contacts'" class="th-sm">Frequency</th>
        <th *ngIf="item[0].name=='Index of coincidence'" class="th-sm">Index of coincidence</th>
        <th *ngIf="item[0].name=='Letter distances'" class="th-sm">Min</th>
        <th *ngIf="item[0].name=='Letter distances'" class="th-sm">Max</th>
        <th *ngIf="item[0].name=='Letter distances'" class="th-sm">Average</th>
        <th *ngIf="item[0].name=='Language guess'" class="th-sm">Language</th>
        <th *ngIf="item[0].name=='Language guess'" class="th-sm">Reference IC</th>
        <th *ngIf="item[0].name=='Language guess'" class="th-sm">IC Difference</th>
        <th *ngIf="item[0].name=='Pattern search'" class="th-sm">Position</th>
        <th *ngIf="item[0].name=='Vowel detection'" class="th-sm">Vowels</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let data of item">
        <th scope="row">{{data.Page}}</th>
        <td *ngIf="data.name=='Entropy'"> {{data.Entropy }}</td>
        <td *ngIf="data.name=='Frequency of text' || data.name=='Adjacent contacts' || data.name=='Letter distances'"> {{data.element}}</td>
        <td *ngIf="data.name=='Frequency of text' || data.name=='Adjacent contacts'">{{data.frequency}}</td>
        <td *ngIf="data.name=='Index of coincidence'"> {{data.Index_of_coincidence}}</td>
        <td *ngIf="data.name=='Letter distances'"> {{data.min}}</td>
        <td *ngIf="data.name=='Letter distances'"> {{data.max}}</td>
        <td *ngIf="data.name=='Letter distances'"> {{data.avg}}</td>
        <td *ngIf="data.name=='Language guess'"> {{data.Lang}}</td>
        <td *ngIf="data.name=='Language guess'"> {{data.Lang_index}}</td>
        <td *ngIf="data.name=='Language guess'"> {{data.Difference}}</td>
        <td *ngIf="data.name=='Pattern search'"> {{data.positions}}</td>
        <td *ngIf="data.name=='Anagram detection'">{{data.Anagram}}</td>
        <td *ngIf="data.name=='Vowel detection'">{{data.vowel}}</td>
    </tr>
  </tbody>
</table>
</div>
<div *ngIf="item[0].name!='Anagram detection'" class="chart-container">
  <div class="spectre-pie-chart">
  <ngx-charts-bar-vertical 
    [view]="[900,210]"
    [results]="saleData[i]"
    [xAxisLabel]="'Products'"
    [legendTitle]="'Product Sale Chart'"
    [yAxisLabel]="'Sale'"
    [xAxis]="true"
    [yAxis]="true"
    >
</ngx-charts-bar-vertical>
</div>
</div>
</div>
</div>
